@page
@model MoviesForEveryone.Pages.MapPageModel

@{
    await Model.OnGetAcquireLocation();
}

<style>
    table, th, td {
        border: 1px solid black;
    }
</style>

<div>
    <iframe width="1200"
            height="900"
            frameborder="0" style="border:0"
            src="https://www.google.com/maps/embed/v1/search?key=AIzaSyCKVHJorOdRlgIFOEC9gZ4AJ2WAXrlligE&q=theaters+and+cinemas&center=@Model.getLat(),@Model.getLong()&zoom=12" allowfullscreen>
    </iframe>

    <form method="post">
        <button method="post" asp-page-handler="Options">Options</button>
    </form>


    @if (Model.getOpt() == true)
    {
        <div>            
            Map Radius: <input type="number" min="1" max="21" />
        </div>        
    }
</div>

@foreach (Models.Theater theat in Model.getLocalTheaters())
{
    <ol>
        <li>
            @theat.theaterName  
            @{
                if (!Model.CheckReviewed(theat.theaterName)) //If the theater has no reviews, no point in letting the user look at them
                {
                   <h1> <a class="navbar-brand" asp-page="/ReviewPage" asp-route-theaterId="@theat.Id"> Review This Theater</a> </h1>                         
                }              
                else
                {
                    <h1> <a class="navbar-brand" asp-page="/ViewReviews" asp-route-theatId="@theat.Id">View This Theater's Reviews</a> </h1>
                }
            }
        </li>
    </ol>
}
